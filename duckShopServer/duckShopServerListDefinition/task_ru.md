## Определение

Коллекция обычно содержит несколько объектов (это число также может быть нулевым) одного типа.  
Объекты в коллекции называются элементами или элементами списка.  

`Списки` — это упорядоченные коллекции с доступом к элементам по индексам — целым числам, отражающим их положение. 
Индекс первого элемента равен нулю.
Элементы могут встречаться в списке более одного раза.

![Определение списка](../../utils/src/main/resources/images/duck/shop/theory/list_definition.png)

<div class="hint" title="Щелкните, чтобы прочитать о различных реализациях списка">

  `Список` может быть реализован с использованием массива или двусвязного списка внутри. 
  Можно сказать, что `Список` — это интерфейс или спецификация, определяющая, какие операции поддерживаются 
  (например, вставка элемента, удаление элемента, получение элемента по индексу и т.д.),
  и этот интерфейс может поддерживаться множественными реализациями.

  Каждая реализация определяет не только набор возможных операций с коллекцией, 
  но и сложность каждой из этих операций. 

  По умолчанию создается `ArrayList`. `ArrayList` — это реализация на основе массива. 
  Она недорогая с точки зрения чтения (поиск элемента) и, в общем, добавления элементов, но дорога для внедрения или удаления объектов.
  Также вы можете использовать реализацию `LinkedList` из Java, 
  если работаете с Kotlin на JVM. Связанный список состоит из узлов, которые соединены друг с другом с помощью указателей.
  Операции вставки и удаления эффективны, но чтобы найти узел на позиции n, 
  нужно начинать поиск с первого узла связанного списка и следовать по цепочке ссылок n раз.
</div>

В общем случае `Список` содержит _только_ элементы _одного_ типа. 
В некоторых случаях возможно хранить элементы разных типов,
но между ними должна быть _связь_, подробности смотрите в [документации](https://kotlinlang.org/docs/generics.html).

![Неправильный тип в списке](../../utils/src/main/resources/images/duck/shop/theory/list_incorrect_type.png)

## Инициализация

Чтобы создать новый список, вы можете использовать специальные _построители_:

```kotlin
val emptyList1 = emptyList<Int>() // Создает внутренний объект EmptyList
val emptyList2 = listOf<Int>() // Вызывает emptyList()
```

<div class="hint" title="Щелкните, чтобы узнать разницу между emptyList и стандартным списком">

В Kotlin реализация `emptyList` представляет собой объект под капотом.
Основная причина существования такой функции — экономия на выделении памяти (создание и удаление новых переменных).
Поскольку `emptyList` возвращает одну и ту же _синглтон_-инстанцию каждый раз, когда она вызывается, 
ее можно использовать без выделения памяти. Это позволяет вашему Kotlin приложению работать более эффективно.
</div>

```kotlin
val listWithNumbers1 = listOf(1, 2, 3) // Тип может быть выведен, будет создан список с элементами 1, 2, 3.
```

В некоторых случаях вам нужно создать список с `N` элементами, 
где каждый элемент будет сгенерирован с помощью специальной функции. 
В таком случае вы можете использовать конструктор `List` и передать количество элементов и 
функцию, которая генерирует эти элементы. Эта функция будет вызвана `N` раз, чтобы заполнить список `N` элементами:

```kotlin
fun generateRandomInt(): Int = TODO("Not implemented yet")

val listWithNumbers2 = List(3) { generateRandomInt() } // Будет создан список из трех случайных целых чисел
```